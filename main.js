(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],t=document.querySelector(".profile__button-change"),n=document.querySelector(".profile__button-add"),r=(document.querySelectorAll(".pop-up__btn-close"),document.querySelector(".profile__title")),o=document.querySelector(".profile__subtitle"),c=document.querySelector(".gallery__list"),l=document.querySelectorAll(".pop-up"),i=document.querySelector(".pop-up__profile"),a=document.querySelector(".pop-up__place"),u=document.querySelector("#profile-forms"),s=document.querySelector("#profile-name"),d=document.querySelector("#profile-description"),p=document.querySelector("#place-forms"),m=document.querySelector("#place-name"),v=document.querySelector("#place-description"),f=document.querySelector(".pop-up__image"),y=document.querySelector(".pop-up__gallery-image"),_=document.querySelector(".pop-up__desctiption-image"),S="pop-up_opened",b=".gallery__item";function q(e){e.classList.add(S),document.addEventListener("keydown",k)}function g(){l.forEach((function(e){e.classList.remove(S),document.removeEventListener("keydown",k)}))}function k(e){"Escape"===e.key&&(document.querySelector(S),g())}function L(e){e.target.classList.toggle("gallery__button-like_active")}function E(e){e.target.closest(b).remove()}function h(e,t){var n=function(e,t){var n=document.querySelector("#card").content.querySelector(b).cloneNode(!0),r=n.querySelector(".gallery__pic"),o=n.querySelector(".gallery__item-descriprion"),c=n.querySelector(".gallery__button-like"),l=n.querySelector(".gallery__button-delete");return r.src="".concat(e),r.alt="".concat(t),o.textContent="".concat(t),r.addEventListener("click",(function(){y.src="".concat(e),y.alt="".concat(t),_.textContent="".concat(t),q(f)})),c.addEventListener("click",L),l.addEventListener("click",E),n}(e,t);c.prepend(n)}for(var x=e.length-1;x>=0;x--)h(e[x].link,e[x].name);var C,A=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(n.inactiveButtonClass),t.removeAttribute("disabled","disabled")):(t.classList.add(n.inactiveButtonClass),t.setAttribute("disabled","disabled"))};l.forEach((function(e){e.addEventListener("mousedown",(function(e){e.target.classList.contains(S)&&g(),e.target.classList.contains("pop-up__btn-close")&&g()}))})),n.addEventListener("click",(function(){q(a)})),t.addEventListener("click",(function(){s.value=r.textContent,d.value=o.textContent,q(i)})),u.addEventListener("submit",(function(e){e.preventDefault();var t=s.value,n=d.value;0!==t.length&&0!==n.length&&(r.textContent=t,o.textContent=n),g()})),p.addEventListener("submit",(function(e){e.preventDefault(),e.submitter.setAttribute("disabled","disabled"),e.submitter.classList.add("pop-up__btn-save_inactive"),h(m.value,v.value),g(),p.reset()})),C={formSelector:".pop-up__forms",inputSelector:".pop-up__profile-input",submitButtonSelector:".pop-up__btn-save",inactiveButtonClass:"pop-up__btn-save_inactive",inputErrorClass:"pop-up__profile-input_error"},Array.from(document.querySelectorAll(C.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);A(n,r,t),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.textContent=""}(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n}(e,t,t.validationMessage,n)}(e,o,t),A(n,r,t)}))}))}(e,C)}))})();